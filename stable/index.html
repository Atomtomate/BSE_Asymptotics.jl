<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Selfconsistent Asymptotics Improvement</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://Atomtomate.github.io/BSE_SC.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Selfconsistent Asymptotics Improvement</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Atomtomate/BSE_SC.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Documentation-for-BSE_SC.jl"><a class="docs-heading-anchor" href="#Documentation-for-BSE_SC.jl">Documentation for BSE_SC.jl</a><a id="Documentation-for-BSE_SC.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation-for-BSE_SC.jl" title="Permalink"></a></h1><ul><li><a href="#Documentation-for-BSE_SC.jl">Documentation for BSE_SC.jl</a></li><li class="no-marker"><ul><li><a href="#Index">Index</a></li></ul></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#BSE_SC.BSE_SC_Helper"><code>BSE_SC.BSE_SC_Helper</code></a></li><li><a href="#BSE_SC.OneToIndex_to_Freq-NTuple{5, Int64}"><code>BSE_SC.OneToIndex_to_Freq</code></a></li><li><a href="#BSE_SC.aux_indices-Tuple{Vector{CartesianIndex{2}}, Int64, Int64, Int64, Int64}"><code>BSE_SC.aux_indices</code></a></li><li><a href="#BSE_SC.calc_χ₀-Tuple{OffsetArrays.OffsetArray, Float64, Int64, Int64, Int64}"><code>BSE_SC.calc_χ₀</code></a></li><li><a href="#BSE_SC.improve_χ!-Tuple{Symbol, Int64, AbstractMatrix{ComplexF64}, AbstractVector{ComplexF64}, Float64, Float64, BSE_SC_Helper}"><code>BSE_SC.improve_χ!</code></a></li><li><a href="#BSE_SC.read_gImp-Tuple{String}"><code>BSE_SC.read_gImp</code></a></li><li><a href="#BSE_SC.setup-Tuple{String, Int64}"><code>BSE_SC.setup</code></a></li><li><a href="#BSE_SC.shell_indices-Tuple{Int64, Int64}"><code>BSE_SC.shell_indices</code></a></li><li><a href="#BSE_SC.ωn_to_ωi-Tuple{Int64}"><code>BSE_SC.ωn_to_ωi</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.aux_indices-Tuple{Vector{CartesianIndex{2}}, Int64, Int64, Int64, Int64}" href="#BSE_SC.aux_indices-Tuple{Vector{CartesianIndex{2}}, Int64, Int64, Int64, Int64}"><code>BSE_SC.aux_indices</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">aux_indices(ind_lst::Vector{CartesianIndex{2}}, ωi::Int, n_iω::Int, n_iν::Int, shift::Int)</code></pre><p>Constructs two index lists, one for ν-ν&#39; and one for ν+ν&#39;+ω, from input index list <code>ind_lst</code>. These lists are used by <a href="#BSE_SC.improve_χ!-Tuple{Symbol, Int64, AbstractMatrix{ComplexF64}, AbstractVector{ComplexF64}, Float64, Float64, BSE_SC_Helper}"><code>improve_χ!</code></a> interally.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/build_chi_asympt.jl#LL18-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.improve_χ!-Tuple{Symbol, Int64, AbstractMatrix{ComplexF64}, AbstractVector{ComplexF64}, Float64, Float64, BSE_SC_Helper}" href="#BSE_SC.improve_χ!-Tuple{Symbol, Int64, AbstractMatrix{ComplexF64}, AbstractVector{ComplexF64}, Float64, Float64, BSE_SC_Helper}"><code>BSE_SC.improve_χ!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">improve_χ!(type::Symbol, ωi::Int, χr, χ₀, U, β, h::BSE_SC_Helper; 
           Nit=200, atol=1e-9)</code></pre><p>Improves asymptotics of <code>χr</code>, given a channel <code>type = :sp</code> or <code>:ch</code>, using Eq. 12a 12b  from DOI: 10.1103/PhysRevB.97.235.140 <code>ωi</code> specifies the index of the Matsubara frequency to use. <code>χ₀</code> is the bubble term, <code>U</code> and <code>β</code> Hubbard-U and temperature. <code>h</code> is a helper struct, see <a href="#BSE_SC.BSE_SC_Helper"><code>BSE_SC_Helper</code></a>. Additionally one can specify convergence parameters: <code>Nit</code>:  maximum number of iterations <code>atol</code>: minimum change between total sum over <code>χ</code> between iterations. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/build_chi_asympt.jl#LL37-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.shell_indices-Tuple{Int64, Int64}" href="#BSE_SC.shell_indices-Tuple{Int64, Int64}"><code>BSE_SC.shell_indices</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shell_indices(Nν_full::Int, Nν_shell::Int)</code></pre><p>Constructs 4 sets of indices for a square array of size <code>Nν_full</code> with a shell <code>Nν_shell</code> entries on each  side in which asymptotic behaviour is assumed. Returns <code>I_core</code>, <code>I_corner</code>, <code>I_top_bottom</code>, <code>I_left_right</code> with indices of the corresponding regions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/build_chi_asympt.jl#LL1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.BSE_SC_Helper" href="#BSE_SC.BSE_SC_Helper"><code>BSE_SC.BSE_SC_Helper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BSE_SC_Helper</code></pre><p>Helper struct for efficient solution of the self consistency. For an example see also <a href="#BSE_SC.setup-Tuple{String, Int64}"><code>setup</code></a>.</p><p><strong>Fields</strong></p><ul><li><strong><code>χsp_asympt</code></strong> : ω-asymptotic for the susceptibility in the spin-ph channel</li><li><strong><code>χch_asympt</code></strong> : ω-asymptotic for the susceptibility in the charge-ph channel</li><li><strong><code>χpp_asympt</code></strong> : ω-asymptotic for the susceptibility in the pp channel</li><li><strong><code>Fr</code></strong>         : Temporary storage for the full vertex. Used internally to avoid repeated mallocs.</li><li><strong><code>λr</code></strong>         : Temporary storage for the fermion-boson-vertex. Used internally to avoid repeated mallocs.</li><li><strong><code>Nν_shell</code></strong>   : Number of Fermionic frequencies used for asymptotic extension.</li><li><strong><code>I_core</code></strong>     : Indices for the core (non-asymptotic) region.</li><li><strong><code>I_corner</code></strong>   : Indices for the corner (ν AND ν&#39; outside core) region.</li><li><strong><code>I_t</code></strong>        : Indices for the core (ν outside core) region.</li><li><strong><code>I_r</code></strong>        : Indices for the core (ν&#39; outside core) region.</li><li><strong><code>I_asympt</code></strong>   : Indices for the asymptotic region (union of I<em>corner, I</em>t, I_r).</li><li><strong><code>ind1_list</code></strong>  : ν-ν&#39; indices in <code>χsp_asympt</code> and <code>χch_asympt</code> for all <code>I_asympt</code></li><li><strong><code>ind2_list</code></strong>  : ν+ν&#39;+ω indices in <code>χpp_asympt</code> for all <code>I_asympt</code></li><li><strong><code>shift</code></strong>      : <code>1</code> or <code>0</code> depending on wheter the ν-frequencies are shfited by <code>-ω/2</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/helpers.jl#LL1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.read_gImp-Tuple{String}" href="#BSE_SC.read_gImp-Tuple{String}"><code>BSE_SC.read_gImp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read_gImp(input_file::String)</code></pre><p>Read impurity Green&#39;s function from JLD2 file at path <code>input_file</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/IO.jl#LL1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.setup-Tuple{String, Int64}" href="#BSE_SC.setup-Tuple{String, Int64}"><code>BSE_SC.setup</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setup(input_file::String, N_shell::Int)</code></pre><p>Setup calculation for data from file. This is used for testing from precomputed data. The file is expected to contain the following fields: <code>β</code>, <code>U</code>, <code>gImp</code>, <code>grid_nBose</code>, <code>grid_nFermi</code>, <code>grid_shift</code>, <code>χDMFTsp</code>, <code>χDMFTch</code>, <code>χ_sp_asympt</code>, <code>χ_ch_asympt</code>, <code>χ_pp_asympt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/IO.jl#LL12-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.OneToIndex_to_Freq-NTuple{5, Int64}" href="#BSE_SC.OneToIndex_to_Freq-NTuple{5, Int64}"><code>BSE_SC.OneToIndex_to_Freq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OneToIndex_to_Freq(ωi::Int, νi::Int, n_iω::Int, n_iν::Int, shift::Int)</code></pre><p>Translates Julia array indices for bosonic and fermionic axis (i.e. ωi ∈ [1,2<code>n_iω</code>+1], νi ∈ [1,2<code>n_iν</code>]) to  Matsubara index (i.e. ωn ∈ [-<code>n_iω</code>,<code>n_iω</code>], νn ∈ [-<code>n_iν</code> -<code>shift</code><em>ωn/2, <code>n_iν</code> -<code>shift</code></em>ωn/2]). <code>shift</code> is used to center the non-asymptotic core of the vertex related functions in the center of the array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/ladderDGA_core.jl#LL11-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.calc_χ₀-Tuple{OffsetArrays.OffsetArray, Float64, Int64, Int64, Int64}" href="#BSE_SC.calc_χ₀-Tuple{OffsetArrays.OffsetArray, Float64, Int64, Int64, Int64}"><code>BSE_SC.calc_χ₀</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calc_χ₀(Gνω::OffsetArray, β::Float64, n_iω::Int, n_iν::Int, shift::Int)</code></pre><p>Calculates the bubble term <code>χ₀</code> from a given Green&#39;s function <code>Gνω</code>. This is mainly used for standalone testing and should generally be calculated independenty in the method using this package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/ladderDGA_core.jl#LL24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BSE_SC.ωn_to_ωi-Tuple{Int64}" href="#BSE_SC.ωn_to_ωi-Tuple{Int64}"><code>BSE_SC.ωn_to_ωi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ωn_to_ωi(ωn::Int)</code></pre><p>Translates Matsubara index (i.e. n ∈ [-N,N]) to Julia array index (i.e. i ∈ [1,2N+1]), assuming symmetry around 0!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Atomtomate/BSE_SC.jl/blob/325bf87565ae32e372bfdfd2cb73b5be32167cfb/src/ladderDGA_core.jl#LL3-L8">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Sunday 5 December 2021 22:22">Sunday 5 December 2021</span>. Using Julia version 1.8.0-DEV.1101.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
